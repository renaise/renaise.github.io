---
interface Profile {
  name: string;
  icon: string;
  href: string;
}

interface Props {
  profiles: Profile[];
}

const { profiles } = Astro.props;
---

<aside class="profiles-sidebar fixed right-4 top-1/2 -translate-y-1/2 z-20 w-[116px] h-auto max-h-[calc(100vh-200px)] flex flex-col items-center py-6 rounded-[16px] overflow-hidden">
  <span class="text-[11px] uppercase tracking-widest text-white/50 font-normal mb-4">Profiles</span>
  <div class="profiles-dock-scroll flex-1 flex flex-col items-center gap-3 overflow-y-auto hide-scrollbar px-4">
    {profiles.map((profile) => (
      <a
        href={profile.href}
        target="_blank"
        rel="noopener noreferrer"
        class="dock-item w-[68px] h-[68px] flex items-center justify-center rounded-2xl border border-white/[0.08] bg-black/80 transition-all duration-200 origin-right group overflow-hidden shrink-0"
        title={profile.name}
      >
        <span class="dock-item-gradient absolute inset-0 rounded-2xl pointer-events-none opacity-0 transition-opacity duration-300 group-hover:opacity-100" aria-hidden="true"></span>
        <img
          src={profile.icon}
          alt={profile.name}
          class="relative z-[1] w-full h-full p-2 object-contain opacity-90 group-hover:opacity-100 transition-opacity duration-200"
        />
      </a>
    ))}
  </div>
</aside>
